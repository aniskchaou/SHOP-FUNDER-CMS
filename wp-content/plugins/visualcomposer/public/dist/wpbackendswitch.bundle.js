(window.vcvWebpackJsonp4x=window.vcvWebpackJsonp4x||[]).push([["wpbackendswitch"],{"./public/backendSwitch.js":function(e,t,n){"use strict";n.r(t);n("./public/variables.js");var i=n("./node_modules/react-dom/index.js"),o=n.n(i),r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck/index.js"),c=n.n(s),d=n("./node_modules/@babel/runtime/helpers/createClass/index.js"),l=n.n(d),u=n("./node_modules/@babel/runtime/helpers/assertThisInitialized/index.js"),w=n.n(u),b=n("./node_modules/@babel/runtime/helpers/inherits/index.js"),v=n.n(b),h=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn/index.js"),p=n.n(h),f=n("./node_modules/@babel/runtime/helpers/getPrototypeOf/index.js"),E=n.n(f);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=E()(e);if(t){var o=E()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p()(this,n)}}var m=function(e){v()(n,e);var t=C(n);function n(e){var i;c()(this,n),i=t.call(this,e);var o=window.VCV_GUTENBERG&&window.VCV_GUTENBERG();i.handleClickEnableClassicEditor=i.handleClickEnableClassicEditor.bind(w()(i)),i.handleClickOpenFrontendEditor=i.handleClickOpenFrontendEditor.bind(w()(i)),o&&(i.handleClickEnableGutenbergEditor=i.handleClickEnableGutenbergEditor.bind(w()(i)));var r=document.getElementById("vcv-be-editor");-1!==window.location.href.indexOf("classic-editor")&&(r.value="classic");var a=r.value;return(r&&-1===["classic","gutenberg"].indexOf(a)||"gutenberg"===a&&!o)&&(a="be",i.hideClassicEditor()),i.state={editor:a},i.wpb=void 0!==window.vc,i}return l()(n,[{key:"handleClickEnableClassicEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.enableClassicEditorConfirmMessage?t.enableClassicEditorConfirmMessage:"Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?";window.confirm(n)&&(this.setState({editor:"classic"}),this.showClassicEditor())}},{key:"handleClickEnableGutenbergEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.enableGutenbergEditorConfirmMessage?t.enableGutenbergEditorConfirmMessage:"Gutenberg will overwrite your content created in Visual Composer Website Builder. Do you want to continue?";if(window.confirm(n)){this.setState({editor:"gutenberg"});var i=window.location.href;i+=(i.match(/[?]/g)?"&":"?")+"vcv-set-editor=gutenberg",window.location=i}}},{key:"handleClickOpenFrontendEditor",value:function(e){e.preventDefault();var t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.openFrontendEditorFromClassic?t.openFrontendEditorFromClassic:"Visual Composer will overwrite your content created in WordPress Classic editor with the latest version of content created in Visual Composer Website Builder. Do you want to continue?";("be"===this.state.editor||window.confirm(n))&&(window.location.href=e.currentTarget.dataset.href)}},{key:"hideClassicEditor",value:function(){null!==document.getElementById("postdivrich")&&document.getElementById("postdivrich").classList.add("vcv-hidden")}},{key:"showClassicEditor",value:function(){var e=window.location.href;e.indexOf("?")>-1?e+="&classic-editor=1":e+="?classic-editor=1",window.location.href=e}},{key:"render",value:function(){var e=this,t=window.VCV_I18N&&window.VCV_I18N(),n=t&&t.classicEditor?t.classicEditor:"Classic Editor",i=t&&t.gutenbergEditor?t.gutenbergEditor:"Gutenberg Editor",o=this.state.editor,r=window.VCV_GUTENBERG&&window.VCV_GUTENBERG();"be"===this.state.editor&&!0===this.wpb&&this.showClassicEditor();var s=null;return!this.props.isGutenbergEditor&&r&&"gutenberg"!==o&&(s=a.a.createElement("div",{className:"vcv-wpbackend-switcher--type-gutenberg"},a.a.createElement("button",{className:"vcv-wpbackend-switcher-option",onClick:this.handleClickEnableGutenbergEditor},i))),a.a.createElement("div",{className:"vcv-wpbackend-switcher-wrapper"},a.a.createElement("div",{className:"vcv-wpbackend-switcher"},a.a.createElement("button",{className:"vcv-wpbackend-switcher-option vcv-wpbackend-switcher-option--vceditor","data-href":window.vcvFrontendEditorLink,onClick:this.handleClickOpenFrontendEditor})),"classic"===o||!1!==this.wpb||r||this.props.isGutenbergEditor?"":a.a.createElement("div",{className:"vcv-wpbackend-switcher--type-classic"},a.a.createElement("button",{className:"vcv-wpbackend-switcher-option",onClick:e.handleClickEnableClassicEditor},n)),s)}}]),n}(a.a.Component);(0,window.jQuery)((function(){!function(){var e=document.querySelector("div#titlediv"),t=document.getElementById("editor"),n=document.createElement("div");n.className="vcv-wpbackend-switcher-container";var i=!1,r=function(e){o.a.render(a.a.createElement(m,{isGutenbergEditor:!!t}),e)};if(e)e.parentNode.insertBefore(n,e.nextSibling),i=!0;else if(t){var s=window.VCV_WPML&&window.VCV_WPML()?2500:1;window.wp.data.subscribe((function(){setTimeout((function(){var e=t?t.querySelector(".edit-post-header-toolbar"):null;e&&!e.querySelector(".vcv-wpbackend-switcher-container")&&(e.querySelector(".edit-post-header-toolbar__left")?e.querySelector(".edit-post-header-toolbar__left").after(n):e.append(n),r(n))}),s)}))}else{var c=document.getElementById("post-body-content");c&&(c.firstChild?c.insertBefore(n,c.firstChild):c.appendChild(n),i=!0)}i&&r(n)}()}))},"./public/variables.js":function(e,t,n){"use strict";var i=n("./node_modules/vc-cake/index.js");if(void 0!==window.VCV_ENV){var o=window.VCV_ENV();Object.keys(o).forEach((function(e){Object(i.env)(e,o[e])})),o.VCV_DEBUG&&Object(i.env)("debug",!0)}}},[["./public/backendSwitch.js","runtime","vendor"]]]);